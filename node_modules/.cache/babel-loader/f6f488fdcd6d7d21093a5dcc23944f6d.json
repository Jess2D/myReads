{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jessicasilveira/Documents/Workspace/myReads/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jessicasilveira/Documents/Workspace/myReads/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jessicasilveira/Documents/Workspace/myReads/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jessicasilveira/Documents/Workspace/myReads/src/Search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport \"./App.css\";\nimport * as BooksAPI from './utils/BooksAPI';\nimport Home from \"./Home\";\n\nvar Search = function Search() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      term = _useState2[0],\n      setTerm = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  console.log(results);\n  useEffect(function () {\n    var search =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                BooksAPI.search(term).then(function (data) {\n                  return setResults(data);\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function search() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (term && !results.length) {\n      search();\n    } else {\n      var timeoutId = setTimeout(function () {\n        if (term) {\n          search();\n        }\n      }, 500);\n      return function () {\n        clearTimeout(timeoutId);\n      };\n    }\n  }, [term]);\n  var renderedResults = results.map(function (result) {\n    return React.createElement(\"li\", {\n      key: result.id,\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"book\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"book-cover\",\n      style: {\n        width: 128,\n        height: 193,\n        backgroundImage: \"url(\\\"\".concat(result.imageLinks.thumbnail, \"\\\")\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"book-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, result.tittle), React.createElement(\"div\", {\n      className: \"book-authors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, result.authors)));\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-books\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-books-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    onClick: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"close-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Close\")), React.createElement(\"div\", {\n    className: \"search-books-input-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    value: term,\n    onChange: function onChange(e) {\n      return setTerm(e.target.value);\n    },\n    type: \"text\",\n    placeholder: \"Search by title or author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"search-books-results\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"ol\", {\n    className: \"books-grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, renderedResults))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/jessicasilveira/Documents/Workspace/myReads/src/Search.js"],"names":["React","useState","useEffect","Link","BooksAPI","Home","Search","term","setTerm","results","setResults","console","log","search","then","data","length","timeoutId","setTimeout","clearTimeout","renderedResults","map","result","id","width","height","backgroundImage","imageLinks","thumbnail","tittle","authors","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { Link } from 'react-router-dom'\nimport \"./App.css\";\nimport * as BooksAPI from './utils/BooksAPI'\nimport Home from \"./Home\";\n\n\n\n const Search = () => {\n    const [term, setTerm] = useState(\"\");\n    const [results,setResults] = useState([])\n    console.log(results)\n\n    useEffect(() => {\n        const search = async () => {\n          BooksAPI.search(term).then((data) =>     \n          setResults(data))};\n         if (term && !results.length) {\n           search()\n        } else {\n            const timeoutId = setTimeout(() => {\n            if (term) {\n                search();\n            }\n            }, 500);\n    \n            return () => {\n            clearTimeout(timeoutId);\n            };\n        }\n        }, [term]);\n   \n   const renderedResults = results.map((result) => {\n        return (\n          <li key={result.id} className=\"item\">\n            <div className=\"book\">\n                <div\n                              className=\"book-cover\"\n                              style={{\n                                width: 128,\n                                height: 193,\n                                backgroundImage: `url(\"${result.imageLinks.thumbnail}\")`,\n                              }}\n                />\n             <div className=\"book-title\">{result.tittle}</div>\n             <div className=\"book-authors\">{result.authors}</div>\n            </div>\n          </li>\n        );\n    });\n\n    return (\n    <div>\n        <div className=\"search-books\">\n            <div className=\"search-books-bar\">\n                <Link to='/' onClick={Home}><button className=\"close-search\" >Close</button></Link>\n                <div className=\"search-books-input-wrapper\">\n                    <input value={term} onChange={(e) =>setTerm(e.target.value)} type=\"text\" placeholder=\"Search by title or author\"/>\n                </div>\n                </div>\n                <div className=\"search-books-results\">\n                <ol className=\"books-grid\">\n                    {renderedResults}\n                </ol>\n            </div>\n        </div>\n    </div>\n    );\n }\n\n \n\n export default Search"]},"metadata":{},"sourceType":"module"}